.. _userguide:

Userguide
=========

This guide takes you through the classes used in Struphy launch files generated by::

    struphy params MODEL

for a valid ``MODEL`` from the list of :ref:`models`.
All information for running simulations are contained in such launch (parameter) files.

:ref:`pproc` is discussed at the end of this section.


Basic options 
-------------

.. autoclass:: struphy.io.options.EnvironmentOptions

.. autoclass:: struphy.io.options.BaseUnits

.. autoclass:: struphy.io.options.Time


Simulation domains 
------------------

See :ref:`avail_mappings`.


Fluid backgrounds 
-----------------

See :ref:`equilibria`.


Grids 
-----

.. autoclass:: struphy.topology.grids.TensorProductGrid
    :show-inheritance:


Derham complex
--------------

.. autoclass:: struphy.io.options.DerhamOptions


Models 
------

See :ref:`models`.


Setting species parameters
--------------------------

.. automethod:: struphy.models.species.Species.set_phys_params


Setting particle parameters
---------------------------

.. automethod:: struphy.models.species.ParticlesSpecies.set_markers

.. automethod:: struphy.models.species.ParticlesSpecies.set_sorting_boxes

.. automethod:: struphy.models.species.ParticlesSpecies.set_save_data

.. autoclass:: struphy.pic.utilities.LoadingParameters

.. autoclass:: struphy.pic.utilities.WeightsParameters

.. autoclass:: struphy.pic.utilities.BoundaryParameters

.. autoclass:: struphy.pic.utilities.BinningPlot

.. autoclass:: struphy.pic.utilities.KernelDensityPlot


Setting backgrounds
-------------------

.. automethod:: struphy.models.variables.FEECVariable.add_background

.. automethod:: struphy.models.variables.PICVariable.add_background

.. automethod:: struphy.models.variables.SPHVariable.add_background


Adding perturbations
--------------------

.. automethod:: struphy.models.variables.FEECVariable.add_perturbation

.. automethod:: struphy.models.variables.SPHVariable.add_perturbation

For :ref:`~struphy.models.variables.PICVariable` the perturbation is added as part of the ``initial_condition`` (see below).


Setting kinetic initial conditions
----------------------------------

.. automethod:: struphy.models.variables.PICVariable.add_initial_condition

For :ref:`~struphy.models.variables.FEECVariable` and :ref:`~struphy.models.variables.SPHVariable` the initial condition is automatically
created as the sum of background + perturbation.


.. _pproc:

Post-processing
---------------

.. automodule:: struphy.main
    :members:
    :exclude-members: run