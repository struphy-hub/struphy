#!/bin/bash -e

# Test Maxwell
struphy run Maxwell -i tests/params_maxwell_1.yml -o sim_1
struphy run Maxwell -i tests/params_maxwell_2.yml -o sim_2
struphy run Maxwell -i tests/params_maxwell_2.yml -o sim_3 --mpi 2
struphy profile sim_1 sim_2 sim_3
struphy pproc sim_1 sim_2 sim_3
# Test LinearMHD
struphy run LinearMHD -i tests/params_linearmhd.yml -o sim_4
struphy run LinearMHD -i tests/params_linearmhd.yml -o sim_5 --mpi 2
struphy profile sim_4 sim_5
struphy pproc sim_4 sim_5
# Test PC_LinearMHD_Vlasov
struphy run PC_LinearMHD_Vlasov -i tests/params_pc_linmhd_6d.yml -o sim_6
# Test LinearVlasovMaxwell
struphy run LinearVlasovMaxwell -i tests/params_linvlasovmaxwell.yml -o sim_7
# Add Test for each model